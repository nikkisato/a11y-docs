/*! For license information please see 583.999f87a5.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[583],{"./node_modules/@sanity/eventsource/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/event-source-polyfill/src/eventsource.js").EventSourcePolyfill},"./node_modules/event-source-polyfill/src/eventsource.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,console=__webpack_require__("./node_modules/console-browserify/index.js");!function(global){"use strict";var setTimeout=global.setTimeout,clearTimeout=global.clearTimeout,XMLHttpRequest=global.XMLHttpRequest,XDomainRequest=global.XDomainRequest,ActiveXObject=global.ActiveXObject,NativeEventSource=global.EventSource,document=global.document,Promise=global.Promise,fetch=global.fetch,Response=global.Response,TextDecoder=global.TextDecoder,TextEncoder=global.TextEncoder,AbortController=global.AbortController;if("undefined"==typeof window||void 0===document||"readyState"in document||null!=document.body||(document.readyState="loading",window.addEventListener("load",(function(event){document.readyState="complete"}),!1)),null==XMLHttpRequest&&null!=ActiveXObject&&(XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(C){function F(){}return F.prototype=C,new F}),Date.now||(Date.now=function now(){return(new Date).getTime()}),null==AbortController){var originalFetch2=fetch;fetch=function(url,options){var signal=options.signal;return originalFetch2(url,{headers:options.headers,credentials:options.credentials,cache:options.cache}).then((function(response){var reader=response.body.getReader();return signal._reader=reader,signal._aborted&&signal._reader.cancel(),{status:response.status,statusText:response.statusText,headers:response.headers,body:{getReader:function(){return reader}}}}))},AbortController=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function TextDecoderPolyfill(){this.bitsNeeded=0,this.codePoint=0}TextDecoderPolyfill.prototype.decode=function(octets){function valid(codePoint,shift,octetsCount){if(1===octetsCount)return codePoint>=128>>shift&&codePoint<<shift<=2047;if(2===octetsCount)return codePoint>=2048>>shift&&codePoint<<shift<=55295||codePoint>=57344>>shift&&codePoint<<shift<=65535;if(3===octetsCount)return codePoint>=65536>>shift&&codePoint<<shift<=1114111;throw new Error}function octetsCount(bitsNeeded,codePoint){if(6===bitsNeeded)return codePoint>>6>15?3:codePoint>31?2:1;if(12===bitsNeeded)return codePoint>15?3:2;if(18===bitsNeeded)return 3;throw new Error}for(var string="",bitsNeeded=this.bitsNeeded,codePoint=this.codePoint,i=0;i<octets.length;i+=1){var octet=octets[i];0!==bitsNeeded&&(octet<128||octet>191||!valid(codePoint<<6|63&octet,bitsNeeded-6,octetsCount(bitsNeeded,codePoint)))&&(bitsNeeded=0,codePoint=65533,string+=String.fromCharCode(codePoint)),0===bitsNeeded?(octet>=0&&octet<=127?(bitsNeeded=0,codePoint=octet):octet>=192&&octet<=223?(bitsNeeded=6,codePoint=31&octet):octet>=224&&octet<=239?(bitsNeeded=12,codePoint=15&octet):octet>=240&&octet<=247?(bitsNeeded=18,codePoint=7&octet):(bitsNeeded=0,codePoint=65533),0===bitsNeeded||valid(codePoint,bitsNeeded,octetsCount(bitsNeeded,codePoint))||(bitsNeeded=0,codePoint=65533)):(bitsNeeded-=6,codePoint=codePoint<<6|63&octet),0===bitsNeeded&&(codePoint<=65535?string+=String.fromCharCode(codePoint):(string+=String.fromCharCode(55296+(codePoint-65535-1>>10)),string+=String.fromCharCode(56320+(codePoint-65535-1&1023))))}return this.bitsNeeded=bitsNeeded,this.codePoint=codePoint,string};null!=TextDecoder&&null!=TextEncoder&&function(){try{return"test"===(new TextDecoder).decode((new TextEncoder).encode("test"),{stream:!0})}catch(error){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+error)}return!1}()||(TextDecoder=TextDecoderPolyfill);var k=function(){};function XHRWrapper(xhr){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=k,this.onload=k,this.onerror=k,this.onreadystatechange=k,this._contentType="",this._xhr=xhr,this._sendTimeout=0,this._abort=k}function toLowerCase(name){return name.replace(/[A-Z]/g,(function(c){return String.fromCharCode(c.charCodeAt(0)+32)}))}function HeadersPolyfill(all){for(var map=Object.create(null),array=all.split("\r\n"),i=0;i<array.length;i+=1){var parts=array[i].split(": "),name=parts.shift(),value=parts.join(": ");map[toLowerCase(name)]=value}this._map=map}function XHRTransport(){}function HeadersWrapper(headers){this._headers=headers}function FetchTransport(){}function EventTarget(){this._listeners=Object.create(null)}function throwError(e){setTimeout((function(){throw e}),0)}function Event(type){this.type=type,this.target=void 0}function MessageEvent(type,options){Event.call(this,type),this.data=options.data,this.lastEventId=options.lastEventId}function ConnectionEvent(type,options){Event.call(this,type),this.status=options.status,this.statusText=options.statusText,this.headers=options.headers}function ErrorEvent(type,options){Event.call(this,type),this.error=options.error}XHRWrapper.prototype.open=function(method,url){this._abort(!0);var that=this,xhr=this._xhr,state=1,timeout=0;this._abort=function(silent){0!==that._sendTimeout&&(clearTimeout(that._sendTimeout),that._sendTimeout=0),1!==state&&2!==state&&3!==state||(state=4,xhr.onload=k,xhr.onerror=k,xhr.onabort=k,xhr.onprogress=k,xhr.onreadystatechange=k,xhr.abort(),0!==timeout&&(clearTimeout(timeout),timeout=0),silent||(that.readyState=4,that.onabort(null),that.onreadystatechange())),state=0};var onStart=function(){if(1===state){var status=0,statusText="",contentType=void 0;if("contentType"in xhr)status=200,statusText="OK",contentType=xhr.contentType;else try{status=xhr.status,statusText=xhr.statusText,contentType=xhr.getResponseHeader("Content-Type")}catch(error){status=0,statusText="",contentType=void 0}0!==status&&(state=2,that.readyState=2,that.status=status,that.statusText=statusText,that._contentType=contentType,that.onreadystatechange())}},onProgress=function(){if(onStart(),2===state||3===state){state=3;var responseText="";try{responseText=xhr.responseText}catch(error){}that.readyState=3,that.responseText=responseText,that.onprogress()}},onFinish=function(type,event){if(null!=event&&null!=event.preventDefault||(event={preventDefault:k}),onProgress(),1===state||2===state||3===state){if(state=4,0!==timeout&&(clearTimeout(timeout),timeout=0),that.readyState=4,"load"===type)that.onload(event);else if("error"===type)that.onerror(event);else{if("abort"!==type)throw new TypeError;that.onabort(event)}that.onreadystatechange()}},onTimeout=function(){timeout=setTimeout((function(){onTimeout()}),500),3===xhr.readyState&&onProgress()};"onload"in xhr&&(xhr.onload=function(event){onFinish("load",event)}),"onerror"in xhr&&(xhr.onerror=function(event){onFinish("error",event)}),"onabort"in xhr&&(xhr.onabort=function(event){onFinish("abort",event)}),"onprogress"in xhr&&(xhr.onprogress=onProgress),"onreadystatechange"in xhr&&(xhr.onreadystatechange=function(event){!function(event){null!=xhr&&(4===xhr.readyState?"onload"in xhr&&"onerror"in xhr&&"onabort"in xhr||onFinish(""===xhr.responseText?"error":"load",event):3===xhr.readyState?"onprogress"in xhr||onProgress():2===xhr.readyState&&onStart())}(event)}),!("contentType"in xhr)&&"ontimeout"in XMLHttpRequest.prototype||(url+=(-1===url.indexOf("?")?"?":"&")+"padding=true"),xhr.open(method,url,!0),"readyState"in xhr&&(timeout=setTimeout((function(){onTimeout()}),0))},XHRWrapper.prototype.abort=function(){this._abort(!1)},XHRWrapper.prototype.getResponseHeader=function(name){return this._contentType},XHRWrapper.prototype.setRequestHeader=function(name,value){var xhr=this._xhr;"setRequestHeader"in xhr&&xhr.setRequestHeader(name,value)},XHRWrapper.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},XHRWrapper.prototype.send=function(){if("ontimeout"in XMLHttpRequest.prototype&&("sendAsBinary"in XMLHttpRequest.prototype||"mozAnon"in XMLHttpRequest.prototype)||null==document||null==document.readyState||"complete"===document.readyState){var xhr=this._xhr;"withCredentials"in xhr&&(xhr.withCredentials=this.withCredentials);try{xhr.send(void 0)}catch(error1){throw error1}}else{var that=this;that._sendTimeout=setTimeout((function(){that._sendTimeout=0,that.send()}),4)}},HeadersPolyfill.prototype.get=function(name){return this._map[toLowerCase(name)]},null!=XMLHttpRequest&&null==XMLHttpRequest.HEADERS_RECEIVED&&(XMLHttpRequest.HEADERS_RECEIVED=2),XHRTransport.prototype.open=function(xhr,onStartCallback,onProgressCallback,onFinishCallback,url,withCredentials,headers){xhr.open("GET",url);var offset=0;for(var name in xhr.onprogress=function(){var chunk=xhr.responseText.slice(offset);offset+=chunk.length,onProgressCallback(chunk)},xhr.onerror=function(event){event.preventDefault(),onFinishCallback(new Error("NetworkError"))},xhr.onload=function(){onFinishCallback(null)},xhr.onabort=function(){onFinishCallback(null)},xhr.onreadystatechange=function(){if(xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED){var status=xhr.status,statusText=xhr.statusText,contentType=xhr.getResponseHeader("Content-Type"),headers=xhr.getAllResponseHeaders();onStartCallback(status,statusText,contentType,new HeadersPolyfill(headers))}},xhr.withCredentials=withCredentials,headers)Object.prototype.hasOwnProperty.call(headers,name)&&xhr.setRequestHeader(name,headers[name]);return xhr.send(),xhr},HeadersWrapper.prototype.get=function(name){return this._headers.get(name)},FetchTransport.prototype.open=function(xhr,onStartCallback,onProgressCallback,onFinishCallback,url,withCredentials,headers){var reader=null,controller=new AbortController,signal=controller.signal,textDecoder=new TextDecoder;return fetch(url,{headers,credentials:withCredentials?"include":"same-origin",signal,cache:"no-store"}).then((function(response){return reader=response.body.getReader(),onStartCallback(response.status,response.statusText,response.headers.get("Content-Type"),new HeadersWrapper(response.headers)),new Promise((function(resolve,reject){var readNextChunk=function(){reader.read().then((function(result){if(result.done)resolve(void 0);else{var chunk=textDecoder.decode(result.value,{stream:!0});onProgressCallback(chunk),readNextChunk()}})).catch((function(error){reject(error)}))};readNextChunk()}))})).catch((function(error){return"AbortError"===error.name?void 0:error})).then((function(error){onFinishCallback(error)})),{abort:function(){null!=reader&&reader.cancel(),controller.abort()}}},EventTarget.prototype.dispatchEvent=function(event){event.target=this;var typeListeners=this._listeners[event.type];if(null!=typeListeners)for(var length=typeListeners.length,i=0;i<length;i+=1){var listener=typeListeners[i];try{"function"==typeof listener.handleEvent?listener.handleEvent(event):listener.call(this,event)}catch(e){throwError(e)}}},EventTarget.prototype.addEventListener=function(type,listener){type=String(type);var listeners=this._listeners,typeListeners=listeners[type];null==typeListeners&&(typeListeners=[],listeners[type]=typeListeners);for(var found=!1,i=0;i<typeListeners.length;i+=1)typeListeners[i]===listener&&(found=!0);found||typeListeners.push(listener)},EventTarget.prototype.removeEventListener=function(type,listener){type=String(type);var listeners=this._listeners,typeListeners=listeners[type];if(null!=typeListeners){for(var filtered=[],i=0;i<typeListeners.length;i+=1)typeListeners[i]!==listener&&filtered.push(typeListeners[i]);0===filtered.length?delete listeners[type]:listeners[type]=filtered}},MessageEvent.prototype=Object.create(Event.prototype),ConnectionEvent.prototype=Object.create(Event.prototype),ErrorEvent.prototype=Object.create(Event.prototype);var WAITING=-1,CONNECTING=0,OPEN=1,CLOSED=2,AFTER_CR=-1,FIELD_START=0,FIELD=1,VALUE_START=2,VALUE=3,contentTypeRegExp=/^text\/event\-stream(;.*)?$/i,parseDuration=function(value,def){var n=null==value?def:parseInt(value,10);return n!=n&&(n=def),clampDuration(n)},clampDuration=function(n){return Math.min(Math.max(n,1e3),18e6)},fire=function(that,f,event){try{"function"==typeof f&&f.call(that,event)}catch(e){throwError(e)}};function EventSourcePolyfill(url,options){EventTarget.call(this),options=options||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function start(es,url,options){url=String(url);var withCredentials=Boolean(options.withCredentials),lastEventIdQueryParameterName=options.lastEventIdQueryParameterName||"lastEventId",initialRetry=clampDuration(1e3),heartbeatTimeout=parseDuration(options.heartbeatTimeout,45e3),lastEventId="",retry=initialRetry,wasActivity=!1,textLength=0,headers=options.headers||{},TransportOption=options.Transport,xhr=isFetchSupported&&null==TransportOption?void 0:new XHRWrapper(null!=TransportOption?new TransportOption:function getBestXHRTransport(){return null!=XMLHttpRequest&&"withCredentials"in XMLHttpRequest.prototype||null==XDomainRequest?new XMLHttpRequest:new XDomainRequest}()),transport=null!=TransportOption&&"string"!=typeof TransportOption?new TransportOption:null==xhr?new FetchTransport:new XHRTransport,abortController=void 0,timeout=0,currentState=WAITING,dataBuffer="",lastEventIdBuffer="",eventTypeBuffer="",textBuffer="",state=FIELD_START,fieldStart=0,valueStart=0,onStart=function(status,statusText,contentType,headers){if(currentState===CONNECTING)if(200===status&&null!=contentType&&contentTypeRegExp.test(contentType)){currentState=OPEN,wasActivity=Date.now(),retry=initialRetry,es.readyState=OPEN;var event=new ConnectionEvent("open",{status,statusText,headers});es.dispatchEvent(event),fire(es,es.onopen,event)}else{var message="";200!==status?(statusText&&(statusText=statusText.replace(/\s+/g," ")),message="EventSource's response has a status "+status+" "+statusText+" that is not 200. Aborting the connection."):message="EventSource's response has a Content-Type specifying an unsupported type: "+(null==contentType?"-":contentType.replace(/\s+/g," "))+". Aborting the connection.",close();event=new ConnectionEvent("error",{status,statusText,headers});es.dispatchEvent(event),fire(es,es.onerror,event),console.error(message)}},onProgress=function(textChunk){if(currentState===OPEN){for(var n=-1,i=0;i<textChunk.length;i+=1){(c=textChunk.charCodeAt(i))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(n=i)}var chunk=(-1!==n?textBuffer:"")+textChunk.slice(0,n+1);textBuffer=(-1===n?textBuffer:"")+textChunk.slice(n+1),""!==textChunk&&(wasActivity=Date.now(),textLength+=textChunk.length);for(var position=0;position<chunk.length;position+=1){var c=chunk.charCodeAt(position);if(state===AFTER_CR&&c==="\n".charCodeAt(0))state=FIELD_START;else if(state===AFTER_CR&&(state=FIELD_START),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(state!==FIELD_START){state===FIELD&&(valueStart=position+1);var field=chunk.slice(fieldStart,valueStart-1),value=chunk.slice(valueStart+(valueStart<position&&chunk.charCodeAt(valueStart)===" ".charCodeAt(0)?1:0),position);"data"===field?(dataBuffer+="\n",dataBuffer+=value):"id"===field?lastEventIdBuffer=value:"event"===field?eventTypeBuffer=value:"retry"===field?(initialRetry=parseDuration(value,initialRetry),retry=initialRetry):"heartbeatTimeout"===field&&(heartbeatTimeout=parseDuration(value,heartbeatTimeout),0!==timeout&&(clearTimeout(timeout),timeout=setTimeout((function(){onTimeout()}),heartbeatTimeout)))}if(state===FIELD_START){if(""!==dataBuffer){lastEventId=lastEventIdBuffer,""===eventTypeBuffer&&(eventTypeBuffer="message");var event=new MessageEvent(eventTypeBuffer,{data:dataBuffer.slice(1),lastEventId:lastEventIdBuffer});if(es.dispatchEvent(event),"open"===eventTypeBuffer?fire(es,es.onopen,event):"message"===eventTypeBuffer?fire(es,es.onmessage,event):"error"===eventTypeBuffer&&fire(es,es.onerror,event),currentState===CLOSED)return}dataBuffer="",eventTypeBuffer=""}state=c==="\r".charCodeAt(0)?AFTER_CR:FIELD_START}else state===FIELD_START&&(fieldStart=position,state=FIELD),state===FIELD?c===":".charCodeAt(0)&&(valueStart=position+1,state=VALUE_START):state===VALUE_START&&(state=VALUE)}}},onFinish=function(error){if(currentState===OPEN||currentState===CONNECTING){currentState=WAITING,0!==timeout&&(clearTimeout(timeout),timeout=0),timeout=setTimeout((function(){onTimeout()}),retry),retry=clampDuration(Math.min(16*initialRetry,2*retry)),es.readyState=CONNECTING;var event=new ErrorEvent("error",{error});es.dispatchEvent(event),fire(es,es.onerror,event),null!=error&&console.error(error)}},close=function(){currentState=CLOSED,null!=abortController&&(abortController.abort(),abortController=void 0),0!==timeout&&(clearTimeout(timeout),timeout=0),es.readyState=CLOSED},onTimeout=function(){if(timeout=0,currentState===WAITING){wasActivity=!1,textLength=0,timeout=setTimeout((function(){onTimeout()}),heartbeatTimeout),currentState=CONNECTING,dataBuffer="",eventTypeBuffer="",lastEventIdBuffer=lastEventId,textBuffer="",fieldStart=0,valueStart=0,state=FIELD_START;var requestURL=url;if("data:"!==url.slice(0,5)&&"blob:"!==url.slice(0,5)&&""!==lastEventId){var i=url.indexOf("?");requestURL=-1===i?url:url.slice(0,i+1)+url.slice(i+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(p,paramName){return paramName===lastEventIdQueryParameterName?"":p})),requestURL+=(-1===url.indexOf("?")?"?":"&")+lastEventIdQueryParameterName+"="+encodeURIComponent(lastEventId)}var withCredentials=es.withCredentials,requestHeaders={Accept:"text/event-stream"},headers=es.headers;if(null!=headers)for(var name in headers)Object.prototype.hasOwnProperty.call(headers,name)&&(requestHeaders[name]=headers[name]);try{abortController=transport.open(xhr,onStart,onProgress,onFinish,requestURL,withCredentials,requestHeaders)}catch(error){throw close(),error}}else if(wasActivity||null==abortController){var nextHeartbeat=Math.max((wasActivity||Date.now())+heartbeatTimeout-Date.now(),1);wasActivity=!1,timeout=setTimeout((function(){onTimeout()}),nextHeartbeat)}else onFinish(new Error("No activity within "+heartbeatTimeout+" milliseconds. "+(currentState===CONNECTING?"No response received.":textLength+" chars received.")+" Reconnecting.")),null!=abortController&&(abortController.abort(),abortController=void 0)};es.url=url,es.readyState=CONNECTING,es.withCredentials=withCredentials,es.headers=headers,es._close=close,onTimeout()}(this,url,options)}var isFetchSupported=null!=fetch&&null!=Response&&"body"in Response.prototype;EventSourcePolyfill.prototype=Object.create(EventTarget.prototype),EventSourcePolyfill.prototype.CONNECTING=CONNECTING,EventSourcePolyfill.prototype.OPEN=OPEN,EventSourcePolyfill.prototype.CLOSED=CLOSED,EventSourcePolyfill.prototype.close=function(){this._close()},EventSourcePolyfill.CONNECTING=CONNECTING,EventSourcePolyfill.OPEN=OPEN,EventSourcePolyfill.CLOSED=CLOSED,EventSourcePolyfill.prototype.withCredentials=void 0;var R=NativeEventSource;null==XMLHttpRequest||null!=NativeEventSource&&"withCredentials"in NativeEventSource.prototype||(R=EventSourcePolyfill),function(factory){if("object"==typeof module.exports){var v=factory(exports);void 0!==v&&(module.exports=v)}else __WEBPACK_AMD_DEFINE_ARRAY__=[exports],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}((function(exports){exports.EventSourcePolyfill=EventSourcePolyfill,exports.NativeEventSource=NativeEventSource,exports.EventSource=R}))}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:this:globalThis)}}]);